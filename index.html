
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>متجر لوكا | LOCA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- PayPal SDK -->
    <script src="https://www.paypal.com/sdk/js?client-id=test&currency=USD"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap');
        
        * {
            font-family: 'Cairo', sans-serif;
        }
        
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        
        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 10px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .product-card {
            transition: all 0.3s ease;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        .alert-warning {
            background-color: #fef3c7;
            border: 1px solid #f59e0b;
            color: #92400e;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 16px;
        }
        
        .alert-success {
            background-color: #d1fae5;
            border: 1px solid #10b981;
            color: #065f46;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 16px;
        }
        
        .alert-info {
            background-color: #dbeafe;
            border: 1px solid #3b82f6;
            color: #1e40af;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 16px;
        }
        
        .btn-primary {
            background-color: #3b82f6;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .btn-primary:hover {
            background-color: #2563eb;
        }
        
        .btn-success {
            background-color: #10b981;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .btn-success:hover {
            background-color: #059669;
        }
        
        .btn-orange {
            background-color: #f97316;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .btn-orange:hover {
            background-color: #ea580c;
        }
        
        .btn-red {
            background-color: #ef4444;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .btn-red:hover {
            background-color: #dc2626;
        }
        
        .btn-gray {
            background-color: #6b7280;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .btn-gray:hover {
            background-color: #4b5563;
        }
        
        .cart-item {
            border-bottom: 1px solid #e5e7eb;
            padding: 12px 0;
        }
        
        .cart-item:last-child {
            border-bottom: none;
        }
        
        .quantity-btn {
            background-color: #f3f4f6;
            border: 1px solid #d1d5db;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .quantity-btn:hover {
            background-color: #e5e7eb;
        }
        
        .user-menu {
            position: relative;
        }
        
        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            min-width: 200px;
            z-index: 100;
            display: none;
        }
        
        .user-dropdown.show {
            display: block;
        }
        
        .protected-content {
            display: none;
        }
        
        .protected-content.show {
            display: block;
        }
        
        .login-required {
            text-align: center;
            padding: 40px 20px;
            color: #6b7280;
        }
        
        .tab-button {
            padding: 10px 20px;
            border: none;
            background: #f3f4f6;
            cursor: pointer;
            border-radius: 6px 6px 0 0;
            margin-left: 2px;
        }
        
        .tab-button.active {
            background: #3b82f6;
            color: white;
        }
        
        .tab-content {
            display: none;
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 0 6px 6px 6px;
            background: white;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .order-card {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            background: white;
        }
        
        .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .status-paid {
            background-color: #d1fae5;
            color: #065f46;
        }
        
        .status-pending {
            background-color: #fef3c7;
            color: #92400e;
        }
        
        .status-delivered {
            background-color: #dbeafe;
            color: #1e40af;
        }
        
        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin: 20px 0;
        }
        
        .payment-method {
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        
        .payment-method:hover {
            border-color: #3b82f6;
        }
        
        .payment-method.selected {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        
        .payment-method i {
            font-size: 24px;
            margin-bottom: 8px;
            display: block;
        }
        
        .sidebar {
            position: fixed;
            top: 0;
            right: -300px;
            width: 300px;
            height: 100vh;
            background: white;
            box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            transition: right 0.3s ease;
            z-index: 1001;
            overflow-y: auto;
        }
        
        .sidebar.show {
            right: 0;
        }
        
        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            display: none;
        }
        
        .sidebar-overlay.show {
            display: block;
        }
        
        .category-filter {
            margin-bottom: 20px;
        }
        
        .filter-button {
            display: block;
            width: 100%;
            text-align: right;
            padding: 10px 15px;
            border: none;
            background: transparent;
            cursor: pointer;
            border-radius: 6px;
            margin-bottom: 5px;
            transition: background-color 0.3s;
        }
        
        .filter-button:hover {
            background-color: #f3f4f6;
        }
        
        .filter-button.active {
            background-color: #3b82f6;
            color: white;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Sidebar Overlay -->
    <div id="sidebar-overlay" class="sidebar-overlay" onclick="closeSidebar()"></div>
    
    <!-- Sidebar -->
    <div id="sidebar" class="sidebar">
        <div class="p-4 border-b">
            <div class="flex justify-between items-center">
                <h3 class="font-bold text-lg">القوائم</h3>
                <button onclick="closeSidebar()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        
        <div class="p-4">
            <div class="category-filter">
                <h4 class="font-semibold mb-3">الفئات</h4>
                <button class="filter-button active" onclick="filterProducts('all')">
                    <i class="fas fa-th-large ml-2"></i>
                    جميع المنتجات
                </button>
                <button class="filter-button" onclick="filterProducts('blox-fruits')">
                    <i class="fas fa-apple-alt ml-2"></i>
                    Blox Fruits
                </button>
                <button class="filter-button" onclick="filterProducts('grow-garden')">
                    <i class="fas fa-seedling ml-2"></i>
                    Grow A Garden
                </button>
                <button class="filter-button" onclick="filterProducts('mm2')">
                    <i class="fas fa-knife ml-2"></i>
                    Murder Mystery 2
                </button>
                <button class="filter-button" onclick="filterProducts('robux')">
                    <i class="fas fa-coins ml-2"></i>
                    روبوكس
                </button>
                <button class="filter-button" onclick="filterProducts('accounts')">
                    <i class="fas fa-user-circle ml-2"></i>
                    حسابات
                </button>
            </div>
            
            <div class="border-t pt-4">
                <h4 class="font-semibold mb-3">الأسعار</h4>
                <button class="filter-button" onclick="filterByPrice(0, 50)">
                    <i class="fas fa-tag ml-2"></i>
                    أقل من ₹50
                </button>
                <button class="filter-button" onclick="filterByPrice(50, 100)">
                    <i class="fas fa-tag ml-2"></i>
                    ₹50 - ₹100
                </button>
                <button class="filter-button" onclick="filterByPrice(100, 200)">
                    <i class="fas fa-tag ml-2"></i>
                    ₹100 - ₹200
                </button>
                <button class="filter-button" onclick="filterByPrice(200, 999)">
                    <i class="fas fa-tag ml-2"></i>
                    أكثر من ₹200
                </button>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="bg-white shadow-sm border-b">
        <div class="container mx-auto px-4">
            <!-- Top Navigation -->
            <div class="flex items-center justify-between py-3">
                <div class="flex items-center gap-4">
                    <button onclick="openSidebar()" class="p-2 hover:bg-gray-100 rounded">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h1 class="text-xl font-bold text-blue-600">متجر لوكا | LOCA</h1>
                </div>
                <div class="flex items-center gap-2">
                    <!-- Search -->
                    <div class="hidden md:flex items-center">
                        <input type="text" id="search-input" placeholder="البحث عن منتج..." class="px-3 py-2 border border-gray-300 rounded-r-lg w-64" onkeyup="searchProducts()">
                        <button class="px-3 py-2 bg-blue-600 text-white rounded-l-lg hover:bg-blue-700">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    
                    <!-- User Menu -->
                    <div class="user-menu">
                        <button id="user-btn" class="p-2 hover:bg-gray-100 rounded flex items-center gap-2" onclick="toggleUserMenu()">
                            <i class="fas fa-user"></i>
                            <span id="user-name">تسجيل دخول</span>
                        </button>
                        <div id="user-dropdown" class="user-dropdown">
                            <div id="guest-menu" class="p-2">
                                <button onclick="showLoginModal()" class="w-full text-right p-2 hover:bg-gray-100 rounded">
                                    <i class="fas fa-sign-in-alt ml-2"></i>
                                    تسجيل دخول
                                </button>
                                <button onclick="showRegisterModal()" class="w-full text-right p-2 hover:bg-gray-100 rounded">
                                    <i class="fas fa-user-plus ml-2"></i>
                                    إنشاء حساب
                                </button>
                            </div>
                            <div id="user-menu" class="p-2" style="display: none;">
                                <button onclick="showProfile()" class="w-full text-right p-2 hover:bg-gray-100 rounded">
                                    <i class="fas fa-user ml-2"></i>
                                    الملف الشخصي
                                </button>
                                <button onclick="showOrders()" class="w-full text-right p-2 hover:bg-gray-100 rounded">
                                    <i class="fas fa-shopping-bag ml-2"></i>
                                    طلباتي
                                </button>
                                <button onclick="showWishlist()" class="w-full text-right p-2 hover:bg-gray-100 rounded">
                                    <i class="fas fa-heart ml-2"></i>
                                    المفضلة
                                </button>
                                <button onclick="showSettings()" class="w-full text-right p-2 hover:bg-gray-100 rounded">
                                    <i class="fas fa-cog ml-2"></i>
                                    الإعدادات
                                </button>
                                <hr class="my-2">
                                <button onclick="logout()" class="w-full text-right p-2 hover:bg-gray-100 rounded text-red-600">
                                    <i class="fas fa-sign-out-alt ml-2"></i>
                                    تسجيل خروج
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Cart Button -->
                    <button onclick="showCart()" class="p-2 hover:bg-gray-100 rounded relative">
                        <i class="fas fa-shopping-cart"></i>
                        <span id="cart-count" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>
                        <span class="mr-1">السلة</span>
                    </button>
                </div>
            </div>

            <!-- Categories Navigation -->
            <div class="flex gap-2 py-2 overflow-x-auto scrollbar-hide">
                <span class="whitespace-nowrap px-3 py-1 text-xs cursor-pointer bg-blue-600 text-white rounded category-tab active" data-category="all">جميع المنتجات</span>
                <span class="whitespace-nowrap px-3 py-1 text-xs cursor-pointer bg-gray-100 text-gray-700 rounded hover:bg-blue-100 category-tab" data-category="blox-fruits">ايمرجنسي</span>
                <span class="whitespace-nowrap px-3 py-1 text-xs cursor-pointer bg-gray-100 text-gray-700 rounded hover:bg-blue-100 category-tab" data-category="grow-garden">Grow A Garden</span>
                <span class="whitespace-nowrap px-3 py-1 text-xs cursor-pointer bg-gray-100 text-gray-700 rounded hover:bg-blue-100 category-tab" data-category="mm2">اسلحة MM2</span>
                <span class="whitespace-nowrap px-3 py-1 text-xs cursor-pointer bg-gray-100 text-gray-700 rounded hover:bg-blue-100 category-tab" data-category="robux">روبوكس</span>
                <span class="whitespace-nowrap px-3 py-1 text-xs cursor-pointer bg-gray-100 text-gray-700 rounded hover:bg-blue-100 category-tab" data-category="accounts">حسابات</span>
                <span class="whitespace-nowrap px-3 py-1 text-xs cursor-pointer bg-gray-100 text-gray-700 rounded hover:bg-blue-100 category-tab" data-category="gamepass">قيم باس</span>
                <span class="whitespace-nowrap px-3 py-1 text-xs cursor-pointer bg-gray-100 text-gray-700 rounded hover:bg-blue-100 category-tab" data-category="offers">تخفيضات</span>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="bg-gradient-to-r from-blue-600 to-purple-600 text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-2xl font-bold mb-2">متجر لوكا | LOCA</h2>
            <p class="text-blue-100 mb-4">نحن متجر متكامل ل لعبه بلوكس فروت ونسعد بخدمتكم دائما</p>
            <p class="text-sm text-blue-200">بعد الطلب تواصل معنا مباشره في الواتساب</p>
            <div class="mt-6 flex justify-center gap-4">
                <button onclick="showOffers()" class="bg-yellow-500 hover:bg-yellow-600 text-black px-6 py-2 rounded-lg font-semibold">
                    <i class="fas fa-fire ml-2"></i>
                    العروض الحصرية
                </button>
                <button onclick="showNewArrivals()" class="bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg font-semibold">
                    <i class="fas fa-star ml-2"></i>
                    الوصول الجديد
                </button>
            </div>
        </div>
    </section>

    <!-- Featured Categories -->
    <section class="py-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="bg-pink-50 border border-pink-200 rounded-lg p-6 text-center hover:shadow-lg transition-shadow cursor-pointer" onclick="filterProducts('mm2')">
                    <div class="w-16 h-16 bg-pink-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-knife text-2xl text-pink-600"></i>
                    </div>
                    <h3 class="font-semibold text-pink-800">اقوى الاسلحة</h3>
                    <p class="text-sm text-pink-600 mt-2">Murder Mystery 2</p>
                </div>
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 text-center hover:shadow-lg transition-shadow cursor-pointer" onclick="filterProducts('grow-garden')">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-seedling text-2xl text-blue-600"></i>
                    </div>
                    <h3 class="font-semibold text-blue-800">Grow A Garden</h3>
                    <p class="text-sm text-blue-600 mt-2">حيوانات وأدوات</p>
                </div>
                <div class="bg-purple-50 border border-purple-200 rounded-lg p-6 text-center hover:shadow-lg transition-shadow cursor-pointer" onclick="filterProducts('blox-fruits')">
                    <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-apple-alt text-2xl text-purple-600"></i>
                    </div>
                    <h3 class="font-semibold text-purple-800">فواكه ( بيرم دائمة )</h3>
                    <p class="text-sm text-purple-600 mt-2">Blox Fruits</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Grid -->
    <section class="py-8">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">أحدث المنتجات</h2>
                <div class="flex gap-2">
                    <select id="sort-select" onchange="sortProducts()" class="px-3 py-2 border border-gray-300 rounded">
                        <option value="newest">الأحدث</option>
                        <option value="price-low">السعر: من الأقل للأعلى</option>
                        <option value="price-high">السعر: من الأعلى للأقل</option>
                        <option value="popular">الأكثر شعبية</option>
                    </select>
                </div>
            </div>
            <div id="products-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                <!-- Products will be loaded here by JavaScript -->
            </div>
            <div id="no-products" class="text-center py-12 hidden">
                <i class="fas fa-search text-4xl text-gray-400 mb-4"></i>
                <p class="text-gray-600">لم يتم العثور على منتجات</p>
            </div>
        </div>
    </section>

    <!-- Profile Modal -->
    <div id="profile-modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold">الملف الشخصي</h3>
                <button onclick="closeModal('profile-modal')" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div id="profile-content">
                <!-- Profile content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Orders Modal -->
    <div id="orders-modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold">طلباتي</h3>
                <button onclick="closeModal('orders-modal')" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div id="orders-content">
                <!-- Orders content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Wishlist Modal -->
    <div id="wishlist-modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold">المفضلة</h3>
                <button onclick="closeModal('wishlist-modal')" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div id="wishlist-content">
                <!-- Wishlist content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold">الإعدادات</h3>
                <button onclick="closeModal('settings-modal')" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="space-y-6">
                <div>
                    <h4 class="font-semibold mb-3">إعدادات الحساب</h4>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span>الإشعارات عبر الإيميل</span>
                            <input type="checkbox" id="email-notifications" checked>
                        </div>
                        <div class="flex justify-between items-center">
                            <span>إشعارات العروض</span>
                            <input type="checkbox" id="offer-notifications" checked>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-3">تغيير كلمة المرور</h4>
                    <form onsubmit="changePassword(event)" class="space-y-3">
                        <input type="password" placeholder="كلمة المرور الحالية" class="w-full p-2 border border-gray-300 rounded" required>
                        <input type="password" placeholder="كلمة المرور الجديدة" class="w-full p-2 border border-gray-300 rounded" required>
                        <input type="password" placeholder="تأكيد كلمة المرور الجديدة" class="w-full p-2 border border-gray-300 rounded" required>
                        <button type="submit" class="btn-primary">تحديث كلمة المرور</button>
                    </form>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-3 text-red-600">منطقة الخطر</h4>
                    <button onclick="deleteAccount()" class="btn-red">حذف الحساب</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold">تسجيل دخول</h3>
                <button onclick="closeModal('login-modal')" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form onsubmit="handleLogin(event)" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-1">الإيميل</label>
                    <input type="email" id="login-email" class="w-full p-2 border border-gray-300 rounded" required>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">كلمة المرور</label>
                    <input type="password" id="login-password" class="w-full p-2 border border-gray-300 rounded" required>
                </div>
                <button type="submit" class="w-full btn-primary">تسجيل دخول</button>
            </form>
            
            <p class="text-center mt-4 text-sm text-gray-600">
                ليس لديك حساب؟ 
                <button onclick="closeModal('login-modal'); showRegisterModal()" class="text-blue-600 hover:underline">إنشاء حساب</button>
            </p>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="register-modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold">إنشاء حساب جديد</h3>
                <button onclick="closeModal('register-modal')" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form onsubmit="handleRegister(event)" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-1">الاسم الكامل</label>
                    <input type="text" id="register-name" class="w-full p-2 border border-gray-300 rounded" required>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">الإيميل</label>
                    <input type="email" id="register-email" class="w-full p-2 border border-gray-300 rounded" required>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">اسم روبلوكس</label>
                    <input type="text" id="register-roblox" class="w-full p-2 border border-gray-300 rounded" required>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">رقم الهاتف</label>
                    <input type="tel" id="register-phone" class="w-full p-2 border border-gray-300 rounded" required>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">كلمة المرور</label>
                    <input type="password" id="register-password" class="w-full p-2 border border-gray-300 rounded" required>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">تأكيد كلمة المرور</label>
                    <input type="password" id="register-confirm" class="w-full p-2 border border-gray-300 rounded" required>
                </div>
                <button type="submit" class="w-full btn-primary">إنشاء حساب</button>
            </form>
            
            <p class="text-center mt-4 text-sm text-gray-600">
                لديك حساب بالفعل؟ 
                <button onclick="closeModal('register-modal'); showLoginModal()" class="text-blue-600 hover:underline">تسجيل دخول</button>
            </p>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cart-modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold">سلة التسوق</h3>
                <button onclick="closeModal('cart-modal')" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div id="cart-content">
                <!-- Cart items will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Purchase Modal -->
    <div id="purchase-modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modal-title" class="text-lg font-bold">إتمام عملية الشراء</h3>
                <button onclick="closeModal('purchase-modal')" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div id="modal-body">
                <!-- Modal content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4 text-blue-400">متجر لوكا | LOCA</h3>
                    <p class="text-gray-300 mb-4">
                        نحن متجر متكامل ل لعبه بلوكس فروت ونسعد بخدمتكم دائما
                    </p>
                    <p class="text-gray-400 text-sm">
                        بعد الطلب تواصل معنا مباشره في الواتساب
                    </p>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">روابط مهمة</h4>
                    <ul class="space-y-2 text-gray-300">
                        <li><a href="#" class="hover:text-blue-400 transition-colors">الاستبدال والاسترجاع</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition-colors">ضروري تقرأ قبل الطلب</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition-colors">طريقة الطلب</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition-colors">الأسئلة الشائعة</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">خدمة العملاء</h4>
                    <ul class="space-y-2 text-gray-300">
                        <li><a href="#" class="hover:text-blue-400 transition-colors">تواصل معنا</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition-colors">تتبع الطلب</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition-colors">الدعم الفني</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition-colors">سياسة الخصوصية</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">تواصل معنا</h4>
                    <div class="space-y-2 text-gray-300">
                        <p><i class="fas fa-phone ml-2"></i> +966591727360</p>
                        <p><i class="fab fa-whatsapp ml-2"></i> +966591727360</p>
                        <p><i class="fas fa-envelope ml-2"></i> info@store-loca.com</p>
                        <div class="flex gap-3 mt-4">
                            <a href="#" class="text-gray-400 hover:text-blue-400"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="text-gray-400 hover:text-blue-400"><i class="fab fa-discord"></i></a>
                            <a href="#" class="text-gray-400 hover:text-blue-400"><i class="fab fa-telegram"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>© 2025 متجر لوكا | جميع الحقوق محفوظة | صنع بإتقان على منصة سلة</p>
            </div>
        </div>
    </footer>

    <script>
        // Enhanced products data with categories
        const products = [
            {
                id: 1,
                name: 'فاكهة التنين دائمة',
                subtitle: 'Blox Fruits - دائمة',
                price: 79,
                originalPrice: 115,
                image: 'https://cdn.discordapp.com/attachments/1377799649372536966/1401399741589229699/IMG_5224.png?ex=68961177&is=6894bff7&hm=4da28e52f401dab0bfc7b7f176519b56d8f0514480387aef572f8fdc7bba8e94&',
                badge: '21',
                rating: 5,
                reviews: 79,
                category: 'ايمرجنسي',
                isNew: true,
                isOffer: true
            },
            {
                id: 2,
                name: 'كيتسوني',
                subtitle: 'Blox Fruits',
                price: 95,
                image: 'https://static.wikia.nocookie.net/blox-fruits/images/8/8e/Kitsune.png',
                badge: '22',
                rating: 5,
                reviews: 45,
                category: 'blox-fruits',
                isNew: true
            },
            {
                id: 3,
                name: 'Corrupted Kitsune',
                subtitle: 'Grow A Garden',
                price: 120,
                image: 'https://static.wikia.nocookie.net/blox-fruits/images/8/8e/Kitsune.png',
                badge: '30',
                rating: 5,
                reviews: 32,
                category: 'grow-garden'
            },
            {
                id: 4,
                name: 'celestial',
                subtitle: 'Blox Fruits',
                price: 85,
                image: 'https://static.wikia.nocookie.net/blox-fruits/images/c/c9/Dragon.png',
                badge: '40',
                rating: 5,
                reviews: 28,
                category: 'blox-fruits'
            },
            {
                id: 5,
                name: 'Vampire\'s set',
                subtitle: 'Murder Mystery 2',
                price: 65,
                image: 'https://static.wikia.nocookie.net/murder-mystery-2-official/images/4/4f/VampireFang.png',
                badge: '23',
                rating: 5,
                reviews: 56,
                category: 'mm2',
                isOffer: true
            },
            {
                id: 6,
                name: 'الثعلب الصحراوي Fennec Fox',
                subtitle: 'Grow A Garden',
                price: 50,
                image: 'https://static.wikia.nocookie.net/blox-fruits/images/c/c9/Dragon.png',
                badge: '29',
                rating: 5,
                reviews: 50,
                category: 'grow-garden'
            },
            {
                id: 7,
                name: 'Mimic Octopus - اخطبوط',
                subtitle: 'Grow A Garden',
                price: 130,
                image: 'https://static.wikia.nocookie.net/blox-fruits/images/c/c9/Dragon.png',
                badge: '43',
                rating: 5,
                reviews: 30,
                category: 'grow-garden'
            },
            {
                id: 8,
                name: 'Queen bee',
                subtitle: 'Grow A Garden',
                price: 95,
                image: 'https://static.wikia.nocookie.net/blox-fruits/images/c/c9/Dragon.png',
                badge: '18',
                rating: 5,
                reviews: 99,
                category: 'grow-garden'
            },
            {
                id: 9,
                name: 'دجاجه الزومبي',
                subtitle: 'Grow A Garden',
                price: 75,
                image: 'https://static.wikia.nocookie.net/blox-fruits/images/c/c9/Dragon.png',
                badge: '25',
                rating: 5,
                reviews: 42,
                category: 'grow-garden'
            },
            {
                id: 10,
                name: 'DragonFly | تنين',
                subtitle: 'Grow A Garden',
                price: 110,
                image: 'https://static.wikia.nocookie.net/blox-fruits/images/c/c9/Dragon.png',
                badge: '30',
                rating: 5,
                reviews: 99,
                category: 'grow-garden'
            },
            {
                id: 11,
                name: 'Disco Bee',
                subtitle: 'Grow A Garden',
                price: 60,
                image: 'https://static.wikia.nocookie.net/blox-fruits/images/c/c9/Dragon.png',
                badge: '37',
                rating: 5,
                reviews: 50,
                category: 'grow-garden'
            },
            {
                id: 12,
                name: 'قطه - moon cat',
                subtitle: 'Grow A Garden',
                price: 45,
                image: 'https://static.wikia.nocookie.net/blox-fruits/images/c/c9/Dragon.png',
                badge: '40',
                rating: 5,
                reviews: 17,
                category: 'grow-garden'
            },
            {
                id: 13,
                name: 'Red Luger',
                subtitle: 'Murder Mystery 2',
                price: 180,
                image: 'https://static.wikia.nocookie.net/murder-mystery-2-official/images/4/4f/VampireFang.png',
                badge: '38',
                rating: 5,
                reviews: 89,
                category: 'mm2'
            },
            {
                id: 14,
                name: 'bat',
                subtitle: 'Blox Fruits',
                price: 35,
                image: 'https://static.wikia.nocookie.net/blox-fruits/images/c/c9/Dragon.png',
                badge: '33',
                rating: 5,
                reviews: 25,
                category: 'blox-fruits'
            },
            // Additional products for different categories
            {
                id: 15,
                name: '1000 روبوكس',
                subtitle: 'Robux',
                price: 25,
                image: 'https://via.placeholder.com/200x200/00A2FF/FFFFFF?text=ROBUX',
                badge: 'HOT',
                rating: 5,
                reviews: 150,
                category: 'robux'
            },
            {
                id: 16,
                name: 'حساب بلوكس فروت مستوى 2450',
                subtitle: 'Blox Fruits Account',
                price: 200,
                image: 'https://via.placeholder.com/200x200/FF6B35/FFFFFF?text=ACCOUNT',
                badge: 'VIP',
                rating: 5,
                reviews: 45,
                category: 'accounts'
            },
            {
                id: 17,
                name: 'Game Pass - Fast Boats',
                subtitle: 'Blox Fruits',
                price: 40,
                image: 'https://via.placeholder.com/200x200/4ECDC4/FFFFFF?text=GAMEPASS',
                badge: 'NEW',
                rating: 5,
                reviews: 67,
                category: 'gamepass'
            }
        ];

        // Global variables
        let currentUser = null;
        let cart = [];
        let wishlist = [];
        let selectedProduct = null;
        let paymentStep = 'form';
        let selectedPaymentMethod = 'paypal';
        let currentFilter = 'all';
        let currentSort = 'newest';
        let orderForm = {
            platform: '',
            map: '',
            notes: ''
        };

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            loadUser();
            loadCart();
            loadWishlist();
            loadProducts();
            updateUI();
            setupCategoryTabs();
        });

        // User management
        function loadUser() {
            const userData = localStorage.getItem('currentUser');
            if (userData) {
                currentUser = JSON.parse(userData);
            }
        }

        function saveUser() {
            if (currentUser) {
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
            } else {
                localStorage.removeItem('currentUser');
            }
        }

        function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            // Get users from localStorage
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                currentUser = user;
                saveUser();
                updateUI();
                closeModal('login-modal');
                showAlert('تم تسجيل الدخول بنجاح!', 'success');
            } else {
                showAlert('بيانات تسجيل الدخول غير صحيحة', 'error');
            }
        }

        function handleRegister(event) {
            event.preventDefault();
            
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const roblox = document.getElementById('register-roblox').value;
            const phone = document.getElementById('register-phone').value;
            const password = document.getElementById('register-password').value;
            const confirm = document.getElementById('register-confirm').value;
            
            if (password !== confirm) {
                showAlert('كلمات المرور غير متطابقة', 'error');
                return;
            }
            
            // Get existing users
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            
            // Check if email already exists
            if (users.find(u => u.email === email)) {
                showAlert('هذا الإيميل مسجل بالفعل', 'error');
                return;
            }
            
            // Create new user
            const newUser = {
                id: Date.now(),
                name,
                email,
                robloxUsername: roblox,
                phone,
                password,
                orders: [],
                joinDate: new Date().toISOString()
            };
            
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            currentUser = newUser;
            saveUser();
            updateUI();
            closeModal('register-modal');
            showAlert('تم إنشاء الحساب بنجاح!', 'success');
        }

        function logout() {
            currentUser = null;
            cart = [];
            wishlist = [];
            saveUser();
            saveCart();
            saveWishlist();
            updateUI();
            showAlert('تم تسجيل الخروج بنجاح', 'success');
        }

        // Cart management
        function loadCart() {
            const cartData = localStorage.getItem('cart');
            if (cartData) {
                cart = JSON.parse(cartData);
            }
        }

        function saveCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        function addToCart(productId) {
            if (!currentUser) {
                showAlert('يجب تسجيل الدخول أولاً', 'error');
                showLoginModal();
                return;
            }
            
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            saveCart();
            updateCartDisplay();
            showAlert('تم إضافة المنتج للسلة', 'success');
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            saveCart();
            updateCartDisplay();
            showCart(); // Refresh cart modal
        }

        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    saveCart();
                    updateCartDisplay();
                    showCart(); // Refresh cart modal
                }
            }
        }

        function getCartTotal() {
            return cart.reduce((total, item) => total + (item.price * item.quantity), 0);
        }

        function getCartItemCount() {
            return cart.reduce((total, item) => total + item.quantity, 0);
        }

        // Wishlist management
        function loadWishlist() {
            const wishlistData = localStorage.getItem('wishlist');
            if (wishlistData) {
                wishlist = JSON.parse(wishlistData);
            }
        }

        function saveWishlist() {
            localStorage.setItem('wishlist', JSON.stringify(wishlist));
        }

        function toggleWishlist(productId) {
            if (!currentUser) {
                showAlert('يجب تسجيل الدخول أولاً', 'error');
                showLoginModal();
                return;
            }
            
            const index = wishlist.indexOf(productId);
            if (index > -1) {
                wishlist.splice(index, 1);
                showAlert('تم إزالة المنتج من المفضلة', 'info');
            } else {
                wishlist.push(productId);
                showAlert('تم إضافة المنتج للمفضلة', 'success');
            }
            
            saveWishlist();
            loadProducts(); // Refresh to update heart icons
        }

        // Product filtering and sorting
        function filterProducts(category) {
            currentFilter = category;
            loadProducts();
            
            // Update active category tab
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.classList.remove('active', 'bg-blue-600', 'text-white');
                tab.classList.add('bg-gray-100', 'text-gray-700');
            });
            
            const activeTab = document.querySelector(`[data-category="${category}"]`);
            if (activeTab) {
                activeTab.classList.add('active', 'bg-blue-600', 'text-white');
                activeTab.classList.remove('bg-gray-100', 'text-gray-700');
            }
            
            // Update sidebar filters
            document.querySelectorAll('.filter-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            closeSidebar();
        }

        function filterByPrice(min, max) {
            const filteredProducts = products.filter(product => 
                product.price >= min && product.price <= max
            );
            displayProducts(filteredProducts);
            closeSidebar();
        }

        function sortProducts() {
            currentSort = document.getElementById('sort-select').value;
            loadProducts();
        }

        function searchProducts() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            const filteredProducts = products.filter(product =>
                product.name.toLowerCase().includes(searchTerm) ||
                product.subtitle.toLowerCase().includes(searchTerm)
            );
            displayProducts(filteredProducts);
        }

        function showOffers() {
            const offerProducts = products.filter(product => product.isOffer);
            displayProducts(offerProducts);
        }

        function showNewArrivals() {
            const newProducts = products.filter(product => product.isNew);
            displayProducts(newProducts);
        }

        // UI Updates
        function updateUI() {
            updateUserDisplay();
            updateCartDisplay();
        }

        function updateUserDisplay() {
            const userNameElement = document.getElementById('user-name');
            const guestMenu = document.getElementById('guest-menu');
            const userMenu = document.getElementById('user-menu');
            
            if (currentUser) {
                userNameElement.textContent = currentUser.name;
                guestMenu.style.display = 'none';
                userMenu.style.display = 'block';
            } else {
                userNameElement.textContent = 'تسجيل دخول';
                guestMenu.style.display = 'block';
                userMenu.style.display = 'none';
            }
        }

        function updateCartDisplay() {
            const cartCountElement = document.getElementById('cart-count');
            const itemCount = getCartItemCount();
            
            if (itemCount > 0) {
                cartCountElement.textContent = itemCount;
                cartCountElement.classList.remove('hidden');
            } else {
                cartCountElement.classList.add('hidden');
            }
        }

        function setupCategoryTabs() {
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    const category = tab.getAttribute('data-category');
                    filterProducts(category);
                });
            });
        }

        // Load and display products
        function loadProducts() {
            let filteredProducts = products;
            
            // Apply category filter
            if (currentFilter !== 'all') {
                filteredProducts = filteredProducts.filter(product => product.category === currentFilter);
            }
            
            // Apply sorting
            switch (currentSort) {
                case 'price-low':
                    filteredProducts.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filteredProducts.sort((a, b) => b.price - a.price);
                    break;
                case 'popular':
                    filteredProducts.sort((a, b) => b.reviews - a.reviews);
                    break;
                case 'newest':
                default:
                    filteredProducts.sort((a, b) => b.id - a.id);
                    break;
            }
            
            displayProducts(filteredProducts);
        }

        function displayProducts(productsToShow) {
            const grid = document.getElementById('products-grid');
            const noProducts = document.getElementById('no-products');
            
            if (productsToShow.length === 0) {
                grid.style.display = 'none';
                noProducts.classList.remove('hidden');
                return;
            }
            
            grid.style.display = 'grid';
            noProducts.classList.add('hidden');
            
            grid.innerHTML = productsToShow.map(product => {
                const isInWishlist = wishlist.includes(product.id);
                const heartClass = isInWishlist ? 'fas fa-heart text-red-500' : 'far fa-heart text-gray-600';
                
                return `
                    <div class="bg-white rounded-lg shadow-md product-card">
                        <div class="relative">
                            <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover rounded-t-lg" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5JbWFnZTwvdGV4dD48L3N2Zz4='">
                            <span class="absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded">${product.badge}</span>
                            ${product.isNew ? '<span class="absolute top-2 left-2 bg-green-500 text-white text-xs px-2 py-1 rounded">جديد</span>' : ''}
                            ${product.isOffer ? '<span class="absolute top-8 left-2 bg-yellow-500 text-black text-xs px-2 py-1 rounded">عرض</span>' : ''}
                            <button onclick="toggleWishlist(${product.id})" class="absolute bottom-2 left-2 bg-white/80 hover:bg-white p-2 rounded">
                                <i class="${heartClass}"></i>
                            </button>
                        </div>
                        <div class="p-4">
                            <h3 class="font-semibold text-sm mb-1 line-clamp-2">${product.name}</h3>
                            <p class="text-xs text-gray-500 mb-2">${product.subtitle}</p>
                            <div class="flex items-center gap-1 mb-2">
                                ${'★'.repeat(5)} <span class="text-xs text-gray-500 mr-1">★ ${product.reviews}</span>
                            </div>
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center gap-2">
                                    <span class="font-bold text-lg">₹${product.price}</span>
                                    ${product.originalPrice ? `<span class="text-sm text-gray-500 line-through">₹${product.originalPrice}</span>` : ''}
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="addToCart(${product.id})" class="flex-1 btn-orange text-sm">إضافة للسلة</button>
                                <button onclick="buyNow(${product.id})" class="flex-1 btn-success text-sm">شراء الآن</button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Modal functions
        function showLoginModal() {
            document.getElementById('login-modal').classList.add('show');
        }

        function showRegisterModal() {
            document.getElementById('register-modal').classList.add('show');
        }

        function showProfile() {
            if (!currentUser) {
                showLoginModal();
                return;
            }
            
            const profileContent = document.getElementById('profile-content');
            profileContent.innerHTML = `
                <div class="space-y-6">
                    <div class="text-center">
                        <div class="w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-user text-3xl text-blue-600"></i>
                        </div>
                        <h3 class="text-xl font-bold">${currentUser.name}</h3>
                        <p class="text-gray-600">${currentUser.email}</p>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-gray-50 p-4 rounded-lg text-center">
                            <div class="text-2xl font-bold text-blue-600">${currentUser.orders ? currentUser.orders.length : 0}</div>
                            <div class="text-sm text-gray-600">إجمالي الطلبات</div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg text-center">
                            <div class="text-2xl font-bold text-green-600">₹${currentUser.orders ? currentUser.orders.reduce((total, order) => total + order.product.price, 0) : 0}</div>
                            <div class="text-sm text-gray-600">إجمالي المشتريات</div>
                        </div>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="font-medium">اسم روبلوكس:</span>
                            <span>${currentUser.robloxUsername}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="font-medium">رقم الهاتف:</span>
                            <span>${currentUser.phone || 'غير محدد'}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="font-medium">تاريخ الانضمام:</span>
                            <span>${new Date(currentUser.joinDate).toLocaleDateString('ar-SA')}</span>
                        </div>
                    </div>
                    
                    <div class="flex gap-2">
                        <button onclick="closeModal('profile-modal'); showSettings()" class="flex-1 btn-primary">تعديل الملف</button>
                        <button onclick="closeModal('profile-modal'); showOrders()" class="flex-1 btn-gray">عرض الطلبات</button>
                    </div>
                </div>
            `;
            
            document.getElementById('profile-modal').classList.add('show');
        }

        function showOrders() {
            if (!currentUser) {
                showLoginModal();
                return;
            }
            
            const ordersContent = document.getElementById('orders-content');
            const orders = currentUser.orders || [];
            
            if (orders.length === 0) {
                ordersContent.innerHTML = `
                    <div class="text-center py-8">
                        <i class="fas fa-shopping-bag text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-600">لا توجد طلبات بعد</p>
                        <button onclick="closeModal('orders-modal')" class="btn-primary mt-4">تصفح المنتجات</button>
                    </div>
                `;
            } else {
                ordersContent.innerHTML = `
                    <div class="space-y-4">
                        ${orders.map(order => `
                            <div class="order-card">
                                <div class="flex justify-between items-start mb-3">
                                    <div>
                                        <h4 class="font-semibold">${order.product.name}</h4>
                                        <p class="text-sm text-gray-600">طلب #${order.id}</p>
                                    </div>
                                    <span class="status-badge status-${order.status === 'مدفوع' ? 'paid' : 'pending'}">${order.status}</span>
                                </div>
                                <div class="grid grid-cols-2 gap-4 text-sm">
                                    <div>
                                        <span class="text-gray-600">السعر:</span>
                                        <span class="font-semibold">₹${order.product.price}</span>
                                    </div>
                                    <div>
                                        <span class="text-gray-600">التاريخ:</span>
                                        <span>${new Date(order.date).toLocaleDateString('ar-SA')}</span>
                                    </div>
                                    <div>
                                        <span class="text-gray-600">المنصة:</span>
                                        <span>${order.platform || 'غير محدد'}</span>
                                    </div>
                                    <div>
                                        <span class="text-gray-600">الماب:</span>
                                        <span>${order.map || 'غير محدد'}</span>
                                    </div>
                                </div>
                                ${order.notes ? `<div class="mt-3 text-sm"><span class="text-gray-600">ملاحظات:</span> ${order.notes}</div>` : ''}
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            document.getElementById('orders-modal').classList.add('show');
        }

        function showWishlist() {
            if (!currentUser) {
                showLoginModal();
                return;
            }
            
            const wishlistContent = document.getElementById('wishlist-content');
            const wishlistProducts = products.filter(product => wishlist.includes(product.id));
            
            if (wishlistProducts.length === 0) {
                wishlistContent.innerHTML = `
                    <div class="text-center py-8">
                        <i class="fas fa-heart text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-600">لا توجد منتجات في المفضلة</p>
                    </div>
                `;
            } else {
                wishlistContent.innerHTML = `
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${wishlistProducts.map(product => `
                            <div class="border rounded-lg p-4">
                                <div class="flex gap-3">
                                    <img src="${product.image}" alt="${product.name}" class="w-16 h-16 object-cover rounded" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2RkZCIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+SW1hZ2U8L3RleHQ+PC9zdmc+">
                                    <div class="flex-1">
                                        <h4 class="font-semibold text-sm">${product.name}</h4>
                                        <p class="text-xs text-gray-500">${product.subtitle}</p>
                                        <p class="font-bold text-green-600">₹${product.price}</p>
                                    </div>
                                </div>
                                <div class="flex gap-2 mt-3">
                                    <button onclick="addToCart(${product.id})" class="flex-1 btn-orange text-sm">إضافة للسلة</button>
                                    <button onclick="toggleWishlist(${product.id})" class="btn-red text-sm">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            document.getElementById('wishlist-modal').classList.add('show');
        }

        function showSettings() {
            if (!currentUser) {
                showLoginModal();
                return;
            }
            
            document.getElementById('settings-modal').classList.add('show');
        }

        function showCart() {
            const cartContent = document.getElementById('cart-content');
            
            if (!currentUser) {
                cartContent.innerHTML = `
                    <div class="login-required">
                        <i class="fas fa-user-lock text-4xl mb-4"></i>
                        <p class="mb-4">يجب تسجيل الدخول لعرض السلة</p>
                        <button onclick="closeModal('cart-modal'); showLoginModal()" class="btn-primary">تسجيل دخول</button>
                    </div>
                `;
            } else if (cart.length === 0) {
                cartContent.innerHTML = `
                    <div class="text-center py-8">
                        <i class="fas fa-shopping-cart text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-600">السلة فارغة</p>
                    </div>
                `;
            } else {
                cartContent.innerHTML = `
                    <div class="space-y-4">
                        ${cart.map(item => `
                            <div class="cart-item flex items-center gap-3">
                                <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2RkZCIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LXNpemU9IjEyIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+SW1hZ2U8L3RleHQ+PC9zdmc+">
                                <div class="flex-1">
                                    <h4 class="font-semibold text-sm">${item.name}</h4>
                                    <p class="text-xs text-gray-500">${item.subtitle}</p>
                                    <p class="font-bold text-green-600">₹${item.price}</p>
                                </div>
                                <div class="flex items-center gap-2">
                                    <button onclick="updateQuantity(${item.id}, -1)" class="quantity-btn">-</button>
                                    <span class="w-8 text-center">${item.quantity}</span>
                                    <button onclick="updateQuantity(${item.id}, 1)" class="quantity-btn">+</button>
                                </div>
                                <button onclick="removeFromCart(${item.id})" class="text-red-500 hover:text-red-700">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        `).join('')}
                        
                        <div class="border-t pt-4">
                            <div class="flex justify-between items-center mb-4">
                                <span class="font-bold text-lg">المجموع: ₹${getCartTotal()}</span>
                            </div>
                            <button onclick="checkoutCart()" class="w-full btn-success">إتمام الشراء</button>
                        </div>
                    </div>
                `;
            }
            
            document.getElementById('cart-modal').classList.add('show');
        }

        function checkoutCart() {
            if (cart.length === 0) return;
            
            closeModal('cart-modal');
            
            // Create order from cart
            selectedProduct = {
                name: `طلب متعدد (${cart.length} منتج)`,
                price: getCartTotal(),
                items: cart.map(item => `${item.name} (${item.quantity})`).join(', ')
            };
            
            paymentStep = 'form';
            showPurchaseModal();
        }

        function buyNow(productId) {
            if (!currentUser) {
                showAlert('يجب تسجيل الدخول أولاً', 'error');
                showLoginModal();
                return;
            }
            
            selectedProduct = products.find(p => p.id === productId);
            paymentStep = 'form';
            showPurchaseModal();
        }

        function showPurchaseModal() {
            const modal = document.getElementById('purchase-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');

            if (paymentStep === 'form') {
                modalTitle.textContent = 'إتمام عملية الشراء';
                modalBody.innerHTML = `
                    <div class="alert-warning">
                        <i class="fas fa-exclamation-triangle ml-2"></i>
                        يرجى إدخال اسم حسابك روبلوكس الحقيقي، سيتم التواصل معك في الإيميل تأكد الإيميل الحقيقي
                    </div>

                    <div class="bg-gray-50 p-4 rounded-lg mb-4">
                        <div class="flex items-center gap-3">
                            <div class="w-16 h-16 bg-blue-100 rounded flex items-center justify-center">
                                <i class="fas fa-shopping-bag text-blue-600"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold">${selectedProduct.name}</h3>
                                <p class="text-sm text-gray-600">${selectedProduct.subtitle || 'طلب متعدد'}</p>
                                <p class="font-bold text-lg text-green-600">₹${selectedProduct.price}</p>
                            </div>
                        </div>
                    </div>

                    <form onsubmit="handleFormSubmit(event)" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-1">الإيميل</label>
                            <input type="email" id="order-email" class="w-full p-2 border border-gray-300 rounded" value="${currentUser.email}" readonly>
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-1">اسم روبلوكس</label>
                            <input type="text" id="order-roblox" class="w-full p-2 border border-gray-300 rounded" value="${currentUser.robloxUsername}" readonly>
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-1">المنصة</label>
                            <select id="platform" class="w-full p-2 border border-gray-300 rounded">
                                <option value="">اختر المنصة</option>
                                <option value="PC">PC</option>
                                <option value="Mobile">Mobile</option>
                                <option value="Xbox">Xbox</option>
                                <option value="PlayStation">PlayStation</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-1">الماب المفضل</label>
                            <select id="map" class="w-full p-2 border border-gray-300 rounded">
                                <option value="">اختر الماب</option>
                                <option value="First Sea">First Sea</option>
                                <option value="Second Sea">Second Sea</option>
                                <option value="Third Sea">Third Sea</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-1">ملاحظات إضافية</label>
                            <textarea id="notes" class="w-full p-2 border border-gray-300 rounded" rows="3" placeholder="أي ملاحظات أو طلبات خاصة..."></textarea>
                        </div>

                        <button type="submit" class="w-full btn-primary">متابعة للدفع</button>
                    </form>
                `;
            } else if (paymentStep === 'payment') {
                modalTitle.textContent = 'اختيار طريقة الدفع';
                modalBody.innerHTML = `
                    <div class="space-y-4">
                        <div class="bg-blue-50 p-4 rounded-lg text-center">
                            <h3 class="text-lg font-semibold mb-2">إجمالي المبلغ</h3>
                            <p class="text-2xl font-bold text-blue-600">₹${selectedProduct.price}</p>
                        </div>
                        
                        <div class="alert-info">
                            <i class="fas fa-info-circle ml-2"></i>
                            اختر طريقة الدفع المناسبة لك
                        </div>
                        
                        <div class="payment-methods">
                            <div class="payment-method ${selectedPaymentMethod === 'paypal' ? 'selected' : ''}" onclick="selectPaymentMethod('paypal')">
                                <i class="fab fa-paypal text-blue-600"></i>
                                <h4 class="font-semibold">PayPal</h4>
                                <p class="text-sm text-gray-600">دفع آمن عبر PayPal</p>
                            </div>
                            
                            <div class="payment-method ${selectedPaymentMethod === 'card' ? 'selected' : ''}" onclick="selectPaymentMethod('card')">
                                <i class="fas fa-credit-card text-green-600"></i>
                                <h4 class="font-semibold">بطاقة ائتمان</h4>
                                <p class="text-sm text-gray-600">Visa, MasterCard</p>
                            </div>
                            
                            <div class="payment-method ${selectedPaymentMethod === 'bank' ? 'selected' : ''}" onclick="selectPaymentMethod('bank')">
                                <i class="fas fa-university text-purple-600"></i>
                                <h4 class="font-semibold">تحويل بنكي</h4>
                                <p class="text-sm text-gray-600">تحويل مباشر</p>
                            </div>
                            
                            <div class="payment-method ${selectedPaymentMethod === 'crypto' ? 'selected' : ''}" onclick="selectPaymentMethod('crypto')">
                                <i class="fab fa-bitcoin text-orange-600"></i>
                                <h4 class="font-semibold">عملة رقمية</h4>
                                <p class="text-sm text-gray-600">Bitcoin, USDT</p>
                            </div>
                        </div>
                        
                        <div id="payment-details">
                            <!-- Payment details will be loaded here -->
                        </div>
                        
                        <button onclick="processPayment()" class="w-full btn-success" id="pay-btn">
                            <i class="fas fa-lock ml-2"></i>
                            دفع آمن - ₹${selectedProduct.price}
                        </button>
                    </div>
                `;
                
                selectPaymentMethod(selectedPaymentMethod);
            } else if (paymentStep === 'success') {
                modalTitle.textContent = 'تم الشراء بنجاح';
                modalBody.innerHTML = `
                    <div class="text-center space-y-4">
                        <div class="bg-green-50 p-6 rounded-lg">
                            <i class="fas fa-check-circle text-4xl text-green-600 mb-4"></i>
                            <h3 class="text-lg font-semibold text-green-800 mb-2">تم الشراء بنجاح!</h3>
                            <p class="text-gray-600 mb-4">شكراً لك! تم إرسال طلبك وسيتم التواصل معك قريباً</p>
                            <p class="text-sm text-gray-500 mb-4">رقم الطلب: #${Date.now()}</p>
                            
                            <div class="bg-white p-4 rounded border">
                                <h4 class="font-semibold mb-2">تفاصيل الطلب:</h4>
                                <div class="text-sm text-right space-y-1">
                                    <p><span class="font-medium">المنتج:</span> ${selectedProduct.name}</p>
                                    <p><span class="font-medium">السعر:</span> ₹${selectedProduct.price}</p>
                                    <p><span class="font-medium">طريقة الدفع:</span> ${getPaymentMethodName(selectedPaymentMethod)}</p>
                                    <p><span class="font-medium">التاريخ:</span> ${new Date().toLocaleString('ar-SA')}</p>
                                </div>
                            </div>
                            
                            <div class="flex gap-2 mt-4">
                                <button onclick="closeModal('purchase-modal')" class="flex-1 btn-primary">متابعة التسوق</button>
                                <button onclick="closeModal('purchase-modal'); showOrders()" class="flex-1 btn-gray">عرض طلباتي</button>
                            </div>
                        </div>
                    </div>
                `;
            }

            modal.classList.add('show');
        }

        function selectPaymentMethod(method) {
            selectedPaymentMethod = method;
            
            // Update selected payment method UI
            document.querySelectorAll('.payment-method').forEach(el => {
                el.classList.remove('selected');
            });
            
            document.querySelector(`[onclick="selectPaymentMethod('${method}')"]`).classList.add('selected');
            
            // Show payment details
            const paymentDetails = document.getElementById('payment-details');
            
            switch (method) {
                case 'paypal':
                    paymentDetails.innerHTML = `
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">دفع عبر PayPal</h4>
                            <p class="text-sm text-gray-600">سيتم تحويلك إلى PayPal لإتمام عملية الدفع بشكل آمن</p>
                            <div id="paypal-button-container" class="mt-3"></div>
                        </div>
                    `;
                    break;
                case 'card':
                    paymentDetails.innerHTML = `
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">دفع بالبطاقة الائتمانية</h4>
                            <div class="space-y-3">
                                <input type="text" placeholder="رقم البطاقة" class="w-full p-2 border rounded">
                                <div class="grid grid-cols-2 gap-2">
                                    <input type="text" placeholder="MM/YY" class="p-2 border rounded">
                                    <input type="text" placeholder="CVV" class="p-2 border rounded">
                                </div>
                                <input type="text" placeholder="اسم حامل البطاقة" class="w-full p-2 border rounded">
                            </div>
                        </div>
                    `;
                    break;
                case 'bank':
                    paymentDetails.innerHTML = `
                        <div class="bg-purple-50 p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">التحويل البنكي</h4>
                            <div class="text-sm space-y-2">
                                <p><strong>اسم البنك:</strong> البنك الأهلي السعودي</p>
                                <p><strong>رقم الحساب:</strong> SA1234567890123456789</p>
                                <p><strong>اسم المستفيد:</strong> متجر لوكا</p>
                                <p class="text-red-600">يرجى إرسال إيصال التحويل عبر الواتساب</p>
                            </div>
                        </div>
                    `;
                    break;
                case 'crypto':
                    paymentDetails.innerHTML = `
                        <div class="bg-orange-50 p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">الدفع بالعملة الرقمية</h4>
                            <div class="text-sm space-y-2">
                                <p><strong>Bitcoin:</strong> 1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa</p>
                                <p><strong>USDT (TRC20):</strong> TQn9Y2khEsLJW1ChVWFMSMeRDow5oNDMDP</p>
                                <p class="text-red-600">يرجى إرسال hash المعاملة عبر الواتساب</p>
                            </div>
                        </div>
                    `;
                    break;
            }
        }

        function getPaymentMethodName(method) {
            const names = {
                'paypal': 'PayPal',
                'card': 'بطاقة ائتمان',
                'bank': 'تحويل بنكي',
                'crypto': 'عملة رقمية'
            };
            return names[method] || method;
        }

        function handleFormSubmit(event) {
            event.preventDefault();
            
            orderForm.platform = document.getElementById('platform').value;
            orderForm.map = document.getElementById('map').value;
            orderForm.notes = document.getElementById('notes').value;

            paymentStep = 'payment';
            showPurchaseModal();
        }

        async function processPayment() {
            const payBtn = document.getElementById('pay-btn');
            payBtn.innerHTML = '<i class="fas fa-spinner fa-spin ml-2"></i>جاري المعالجة...';
            payBtn.disabled = true;

            // Simulate payment processing
            await new Promise(resolve => setTimeout(resolve, 3000));

            // Create order
            const order = {
                id: Date.now(),
                date: new Date().toISOString(),
                product: selectedProduct,
                user: currentUser,
                platform: orderForm.platform,
                map: orderForm.map,
                notes: orderForm.notes,
                paymentMethod: selectedPaymentMethod,
                status: 'مدفوع'
            };

            // Save order to user's orders
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            if (userIndex !== -1) {
                users[userIndex].orders = users[userIndex].orders || [];
                users[userIndex].orders.push(order);
                localStorage.setItem('users', JSON.stringify(users));
                currentUser.orders = users[userIndex].orders;
                saveUser();
            }

            // Send to Discord webhook
            const webhookData = {
                content: "🛒 **طلب جديد من متجر لوكا**",
                embeds: [{
                    title: "تفاصيل الطلب",
                    color: 0x00ff00,
                    fields: [
                        {
                            name: "👤 العميل",
                            value: currentUser.name,
                            inline: true
                        },
                        {
                            name: "📧 الإيميل",
                            value: currentUser.email,
                            inline: true
                        },
                        {
                            name: "🎮 اسم روبلوكس",
                            value: currentUser.robloxUsername,
                            inline: true
                        },
                        {
                            name: "📱 رقم الهاتف",
                            value: currentUser.phone || "غير محدد",
                            inline: true
                        },
                        {
                            name: "🛍️ المنتج",
                            value: selectedProduct.items || selectedProduct.name,
                            inline: false
                        },
                        {
                            name: "🎯 المنصة",
                            value: orderForm.platform || "غير محدد",
                            inline: true
                        },
                        {
                            name: "🗺️ الماب",
                            value: orderForm.map || "غير محدد",
                            inline: true
                        },
                        {
                            name: "💰 السعر",
                            value: `₹${selectedProduct.price}`,
                            inline: true
                        },
                        {
                            name: "💳 طريقة الدفع",
                            value: getPaymentMethodName(selectedPaymentMethod),
                            inline: true
                        },
                        {
                            name: "📅 تاريخ الشراء",
                            value: new Date().toLocaleString('ar-SA'),
                            inline: false
                        },
                        {
                            name: "📝 ملاحظات",
                            value: orderForm.notes || "لا توجد ملاحظات",
                            inline: false
                        }
                    ],
                    timestamp: new Date().toISOString(),
                    footer: {
                        text: "متجر لوكا | نظام الطلبات الآلي"
                    }
                }]
            };

            try {
                await fetch('https://discord.com/api/webhooks/1402454373786849401/EjjcdU4vhK-y0FOKZP9ottNcDktRXboKYfUtfnuaFV2dDbddNMcqiAPhmhy9S8V9izQG', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(webhookData)
                });
            } catch (error) {
                console.error('Error sending to Discord:', error);
            }

            // Clear cart if it was a cart checkout
            if (selectedProduct.items) {
                cart = [];
                saveCart();
                updateCartDisplay();
            }

            paymentStep = 'success';
            showPurchaseModal();
        }

        // Sidebar functions
        function openSidebar() {
            document.getElementById('sidebar').classList.add('show');
            document.getElementById('sidebar-overlay').classList.add('show');
        }

        function closeSidebar() {
            document.getElementById('sidebar').classList.remove('show');
            document.getElementById('sidebar-overlay').classList.remove('show');
        }

        // Utility functions
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
        }

        function toggleUserMenu() {
            const dropdown = document.getElementById('user-dropdown');
            dropdown.classList.toggle('show');
        }

        function showAlert(message, type = 'info') {
            // Create alert element
            const alert = document.createElement('div');
            alert.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${
                type === 'success' ? 'bg-green-100 text-green-800 border border-green-200' :
                type === 'error' ? 'bg-red-100 text-red-800 border border-red-200' :
                'bg-blue-100 text-blue-800 border border-blue-200'
            }`;
            alert.innerHTML = `
                <div class="flex items-center gap-2">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                    <span>${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()" class="mr-2 text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
            
            document.body.appendChild(alert);
            
            // Remove after 5 seconds
            setTimeout(() => {
                if (alert.parentElement) {
                    alert.remove();
                }
            }, 5000);
        }

        function changePassword(event) {
            event.preventDefault();
            showAlert('تم تحديث كلمة المرور بنجاح', 'success');
            closeModal('settings-modal');
        }

        function deleteAccount() {
            if (confirm('هل أنت متأكد من حذف الحساب؟ هذا الإجراء لا يمكن التراجع عنه.')) {
                // Remove user from users array
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                const updatedUsers = users.filter(u => u.id !== currentUser.id);
                localStorage.setItem('users', JSON.stringify(updatedUsers));
                
                // Logout
                logout();
                closeModal('settings-modal');
                showAlert('تم حذف الحساب بنجاح', 'success');
            }
        }

        // Close dropdowns when clicking outside
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.classList.remove('show');
                }
            });
            
            const userDropdown = document.getElementById('user-dropdown');
            if (!event.target.closest('.user-menu')) {
                userDropdown.classList.remove('show');
            }
        }
    </script>
</body>
</html>
